{% extends "dlf-base.html" %}

{% from "validation-result-components/result-panel.html" import validationResultPanel %}
{% from "validation-result-components/table-summary.html" import valTableSummary %}
{% from "validation-result-components/header-playback-lists.html" import listComparedToStandard %}

{% block content %}

<!-- show overall result -->
<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
    {%- if report.result.valid -%}
    {{ validationResultPanel(true) }}
    {%- else -%}
    {{ validationResultPanel(false, report.result['error-count']) }}
    {%- endif -%}
    </div>
</div>

{{-  valTableSummary({
        "file_type": report.meta_data.suffix,
        "row_count": report.rows|length
    })
-}}

{%- if report.meta_data.additional_headers|length > 0 or report.meta_data.missing_headers|length > 0 -%}
<!-- section for listing issues with columns -->
<div id="column-issues-section" class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-l govuk-!-margin-top-9">Headers</h2>
  </div>
</div>

<h3 class="govuk-heading-m">Data standard headers</h3>
<p class="govuk-body">Headers that are part of the brownfield land registers data standard.</p>

{{ listComparedToStandard(report.meta_data.headers_expected, report.meta_data.headers_found) }}

{%- endif -%}

{% endblock %}